<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRISMATA | AI Art Gallery</title>
    <link rel="stylesheet" href="./src/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- 3D Viewports -->
        <div id="viewer-container" class="viewer-layout">
            <div id="view-main" class="viewport active"></div>
            <div id="view-compare" class="viewport hidden">
                <div class="empty-state">SELECT ARTIFACT TO COMPARE</div>
            </div>
        </div>

        <!-- UI Overlay -->
        <div class="ui-layer">
            <!-- Header -->
            <header class="gallery-header">
                <div class="logo-text">
                    <button id="btn-mobile-menu" class="mobile-menu-btn">
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <h1>PRISMATA</h1>
                    <span class="subtitle">NEURAL ARCHITECTURE GALLERY</span>
                </div>
                <div class="status-indicator">
                    <button id="btn-easter-egg" class="icon-btn" title="Toggle Simulation">
                        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                            <!-- Tron Identity Disc Icon -->
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" />
                        </svg>
                    </button>
                    <button id="btn-about" class="minimal-btn">ABOUT</button>
                    <button id="btn-toggle-info" class="minimal-btn">HIDE INFO</button>
                    <span class="status-dot"></span>
                    <span class="status-text">SYSTEM ONLINE</span>
                </div>
            </header>

            <!-- Left Sidebar: Gallery Navigation -->
            <aside class="gallery-nav">
                <div class="nav-header">
                    <h2>MODELS</h2>
                    <div class="nav-controls">
                        <label class="toggle-switch">
                            <input type="checkbox" id="compare-toggle">
                            <span class="slider"></span>
                        </label>
                        <span class="control-label">COMPARE MODE</span>
                    </div>
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="SEARCH ARTIFACTS..." autocomplete="off">
                    </div>

                    <div id="filter-tags" class="filter-tags">
                        <!-- Populated by JS -->
                    </div>

                    <div class="line-deco"></div>
                </div>
                <div id="model-list" class="scroll-container">
                    <!-- Populated by JS -->
                </div>
            </aside>

            <!-- Color Legend (Moved to global UI layer) -->
            <div class="color-legend">
                <button id="btn-toggle-pulse" class="pulse-btn">FLOW: OFF</button>
                <span class="legend-label">OUTPUT</span>
                <div class="gradient-bar"></div>
                <span class="legend-label">INPUT</span>
            </div>
            <!-- Right Panel: Artifact Details -->
            <aside class="artifact-details">
                <!-- PANEL A (Main) -->
                <div id="panel-a" class="details-content glass-panel">
                    <div class="detail-header">
                        <div>
                            <div id="model-name-a" class="super-title"></div>
                            <h2 id="crystal-title-a">SELECT ARTIFACT</h2>
                        </div>
                        <span id="crystal-type-a" class="type-badge">STANDBY</span>
                    </div>
                    <div class="detail-body">
                        <div id="crystal-desc-a">Explore the evolutionary timeline of Artificial
                            Intelligence.<br><br>Select a year to begin.
                        </div>

                        <div class="metadata-grid">
                            <div class="meta-item">
                                <span class="label">NODES</span>
                                <span class="value" id="meta-nodes-a">--</span>
                            </div>
                            <div class="meta-item">
                                <span class="label">LINKS</span>
                                <span class="value" id="meta-links-a">--</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PANEL B (Comparison) -->
                <div id="panel-b" class="details-content glass-panel hidden">
                    <div class="detail-header">
                        <div>
                            <div id="model-name-b" class="super-title"></div>
                            <h2 id="crystal-title-b">SELECT TARGET</h2>
                        </div>
                        <span id="crystal-type-b" class="type-badge">STANDBY</span>
                    </div>
                    <div class="detail-body">
                        <div id="crystal-desc-b">Select a second artifact to compare architecture.</div>

                        <div class="metadata-grid">
                            <div class="meta-item">
                                <span class="label">NODES</span>
                                <span class="value" id="meta-nodes-b">--</span>
                            </div>
                            <div class="meta-item">
                                <span class="label">LINKS</span>
                                <span class="value" id="meta-links-b">--</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Shared Controls (Bottom) -->
                <div class="glass-panel controls-panel">
                    <div class="controls">
                        <button id="btn-spin" class="cyber-btn active">AUTO-ROTATE</button>
                        <button id="btn-reset" class="cyber-btn">RESET VIEW</button>
                    </div>
                </div>

                <!-- Loading Overlay -->
                <div id="loader" class="loader-overlay hidden">
                    <div class="spinner"></div>
                    <span class="loading-text">DECODING NEURAL LATTICE...</span>
                </div>
            </aside>

            <!-- Footer: Timeline / scrubber could go here later -->
            <footer class="gallery-footer">
                <div class="interaction-hint">
                    LEFT CLICK: ROTATE // RIGHT CLICK: PAN // SCROLL: ZOOM
                </div>
            </footer>
            <!-- About Modal -->
            <div id="about-modal" class="modal-overlay hidden">
                <div class="modal-content glass-panel"
                    style="background: rgba(10, 20, 30, 0.95); max-width: 600px; padding: 30px;">
                    <button id="btn-close-modal" class="close-btn"
                        style="position:absolute; top:15px; right:15px; background:none; border:none; color:var(--color-primary); font-size:1.5rem; cursor:pointer;">&times;</button>
                    <h2 style="color:var(--color-primary); margin-top:0;">THE PRISMATA PROJECT</h2>
                    <div class="modal-body">
                        <p class="highlight" style="font-size:1.1rem; color:#fff; margin-bottom:20px;">Visualizing the
                            invisible
                            geometry of intelligence.</p>
                        <p style="margin-bottom:20px; color:#ccc;">Prismata transforms the raw mathematical weights of
                            Neural
                            Networks into 3D crystalline structures. By applying PCA (Principal Component Analysis) to
                            layer
                            weights, we reveal the unique "fingerprint" of each architecture.</p>

                        <div
                            style="margin: 20px 0; padding: 15px; background: rgba(0,243,255,0.05); border-left: 2px solid var(--color-primary);">
                            <h3 style="font-size:0.8rem; color:var(--color-secondary); letter-spacing:1px;">AUTHORS</h3>
                            <p style="margin-bottom:10px;">Created by <a href="https://www.linkedin.com/in/freddyayala/"
                                    target="_blank" style="color:#fff; text-decoration:underline;">Frederic Ayala</a>
                            </p>

                            <h3
                                style="font-size:0.8rem; color:var(--color-secondary); letter-spacing:1px; margin-top:10px;">
                                CONTRIBUTE</h3>
                            <p>Follow the <a href="https://github.com/FreddyAyala/Prismata/blob/main/CONTRIBUTING.md"
                                    target="_blank" style="color:#fff; text-decoration:underline;">Contribution
                                    Guide</a> on GitHub.
                            </p>
                        </div>

                        <div class="upload-section"
                            style="border-top:1px solid rgba(255,255,255,0.1); padding-top:20px; margin-top:20px;">
                            <h3 style="color:var(--color-secondary); font-size:0.9rem;">PREVISUALIZE CUSTOM CRYSTAL</h3>
                            <p style="font-size:0.8rem; margin-bottom:10px; color:#ccc;">Upload a generated
                                <code>.ply</code> file
                                to view it instantly.</p>
                            <label class="minimal-btn" style="display:inline-block; cursor:pointer; padding: 8px 16px;">
                                UPLOAD .PLY
                                <input type="file" id="file-upload" accept=".ply" style="display:none;">
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Timeline Overlay (Hidden by Default) -->
            <div id="timeline-overlay" class="timeline-overlay hidden">
                <button id="btn-close-timeline" class="close-timeline-btn">EXIT TIMELINE</button>

                <div class="timeline-active-info">
                    <h2 id="timeline-year">2024</h2>
                    <h1 id="timeline-title">GEMMA 2</h1>
                    <p id="timeline-desc">Google's open model. Highly efficient knowledge compression.</p>
                </div>

                <div class="timeline-track-container">
                    <button id="btn-prev-model" class="nav-arrow left">&lt;</button>
                    <div id="timeline-track" class="timeline-track">
                        <!-- Populated JS: Nodes go here -->
                    </div>
                    <button id="btn-next-model" class="nav-arrow right">&gt;</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Scripts -->
    <script type="module" src="./src/main.js"></script>
    <script type="module" src="./src/ui.js"></script>
</body>

</html>