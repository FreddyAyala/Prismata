<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRISMATA | AI Art Gallery</title>
    <link rel="stylesheet" href="./src/style.css?v=2.2.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- 3D Viewports -->
        <div id="viewer-container" class="viewer-layout">
            <div id="view-main" class="viewport active"></div>
            <div id="view-compare" class="viewport hidden">
                <div class="empty-state">SELECT ARTIFACT TO COMPARE</div>
            </div>
        </div>

        <!-- UI Overlay -->
        <div class="ui-layer">
            <!-- Header -->
            <header class="gallery-header">
                <div class="logo-text">
                    <button id="btn-mobile-menu" class="mobile-menu-btn">
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <h1>PRISMATA</h1>
                    <span class="subtitle">NEURAL ARCHITECTURE GALLERY</span>
                </div>
                <div class="status-indicator">
                    <!-- Desktop Buttons -->
                    <div class="desktop-controls">
                        <!-- Simulation Toggle -->
                        <button id="btn-easter-egg" class="icon-btn" title="Toggle Simulation">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" />
                            </svg>
                            </button>
                        <!-- Toggle Info -->
                        <button id="btn-toggle-info" class="icon-btn" title="Toggle Info Panel">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                <path
                                    d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" />
                            </svg>
                        </button>
                        
                        <!-- About -->
                        <button id="btn-about" class="icon-btn" title="About Project">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                <path
                                    d="M11 18h2v-6h-2v6zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                            </svg>
                        </button>
                    </div>
                    
                    <!-- Mobile Menu Trigger -->
                    <button id="btn-mobile-settings" class="mobile-settings-btn icon-btn">
                        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                            <circle cx="12" cy="5" r="2" />
                            <circle cx="12" cy="12" r="2" />
                            <circle cx="12" cy="19" r="2" />
                        </svg>
                    </button>
                    
                    <!-- Mobile Dropdown -->
                    <div id="mobile-dropdown" class="mobile-dropdown hidden">
                        <button id="mob-btn-about" class="dropdown-item">ABOUT PROJECT</button>
                        <button id="mob-btn-info" class="dropdown-item">TOGGLE INFO</button>
                        <button id="mob-btn-egg" class="dropdown-item">TOGGLE SIMULATION</button>
                    </div>

                    <span class="status-dot"></span>
                    <span class="status-text">SYSTEM ONLINE</span>
                </div>
            </header>

            <!-- Left Sidebar: Gallery Navigation -->
            <aside class="gallery-nav">
                <div class="nav-header">
                    <h2>MODELS</h2>
                    <div class="nav-controls">
                        <label class="toggle-switch">
                            <input type="checkbox" id="compare-toggle">
                            <span class="slider"></span>
                        </label>
                        <span class="control-label">COMPARE MODE</span>
                    </div>
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="SEARCH ARTIFACTS..." autocomplete="off">
                    </div>

                    <div id="filter-tags" class="filter-tags">
                        <!-- Populated by JS -->
                    </div>

                    <div class="line-deco"></div>


                <div id="model-list" class="scroll-container">
                    <!-- Populated by JS -->
                </div>
            </aside>

            <!-- Color Legend (Moved to global UI layer) -->
            <div class="color-legend">
                <button id="btn-toggle-pulse" class="pulse-btn" style="color:white; border-color: rgba(255,255,255,0.2);">FLOW:
                    OFF</button>
                <span class="legend-label">OUTPUT</span>
                <div class="gradient-bar"></div>
                <span class="legend-label">INPUT</span>
            </div>
            <!-- Right Panel: Artifact Details -->
            <aside class="artifact-details">
                <!-- PANEL A (Main) -->
                <div id="panel-a" class="details-content glass-panel">
                    <div class="detail-header">
                        <div>
                            <div id="model-name-a" class="super-title"></div>
                            <h2 id="crystal-title-a">SELECT ARTIFACT</h2>
                        </div>
                        <span id="crystal-type-a" class="type-badge">STANDBY</span>
                    </div>
                    <div class="detail-body">
                        <div id="crystal-desc-a">Explore the evolutionary timeline of Artificial
                            Intelligence.<br><br>Select a year to begin.
                        </div>

                        <div class="metadata-grid">
                            <div class="meta-item">
                                <span class="label">NODES</span>
                                <span class="value" id="meta-nodes-a">--</span>
                            </div>
                            <div class="meta-item">
                                <span class="label">LINKS</span>
                                <span class="value" id="meta-links-a">--</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PANEL B (Comparison) -->
                <div id="panel-b" class="details-content glass-panel hidden">
                    <div class="detail-header">
                        <div>
                            <div id="model-name-b" class="super-title"></div>
                            <h2 id="crystal-title-b">SELECT TARGET</h2>
                        </div>
                        <span id="crystal-type-b" class="type-badge">STANDBY</span>
                    </div>
                    <div class="detail-body">
                        <div id="crystal-desc-b">Select a second artifact to compare architecture.</div>

                        <div class="metadata-grid">
                            <div class="meta-item">
                                <span class="label">NODES</span>
                                <span class="value" id="meta-nodes-b">--</span>
                            </div>
                            <div class="meta-item">
                                <span class="label">LINKS</span>
                                <span class="value" id="meta-links-b">--</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reading Guide -->
                <div class="glass-panel reading-guide"
                    style="margin-bottom: 4px; padding: 10px; border-left: 2px solid var(--color-primary);">
                    <h3 style="color:var(--color-primary); font-size: 0.7rem; margin-bottom: 8px; letter-spacing: 1px;">
                        AUTONOMY SCAN</h3>
                    <div
                        style="display:flex; flex-direction:column; gap:4px; font-size:0.65rem; color:#ccc; font-family:'JetBrains Mono', monospace;">
                        <div style="display:flex; justify-content:space-between;">
                            <span>TOP LAYER</span> <span style="color:#ff0055">OUTPUT / DECISION</span>
                        </div>
                        <div style="display:flex; justify-content:space-between;">
                            <span>MID LAYER</span> <span style="color:#00f3ff">PROCESSING / CORTEX</span>
                        </div>
                        <div style="display:flex; justify-content:space-between;">
                            <span>BOT LAYER</span> <span style="color:#ffaa00">INPUT / SENSORY</span>
                        </div>
                    </div>
                </div>

                <!-- ADVANCED CONTROLS (Accordion) -->
                <div class="advanced-controls" style="margin-bottom: 4px; pointer-events: all;">
                    <!-- INJECTED BY Templates.js -->
                </div>

                <!-- Shared Controls (Bottom) -->
                <div class="glass-panel controls-panel">
                    <div class="controls">
                        <button id="btn-spin" class="cyber-btn active">AUTO-ROTATE</button>
                        <button id="btn-pan" class="cyber-btn">AUTO-PAN</button>
                        <button id="btn-reset" class="cyber-btn">RESET VIEW</button>
                    </div>
                </div>

                <!-- Loading Overlay -->
                <div id="loader" class="loader-overlay hidden">
                    <div class="spinner"></div>
                    <span class="loading-text">DECODING NEURAL LATTICE...</span>
                </div>
                <!-- FPS Counter -->
                <div id="fps-counter"
                    style="position: absolute; top: 10px; right: 10px; color: var(--color-primary); font-family: 'jetBrains Mono', monospace; font-size: 0.8rem; pointer-events: none; opacity: 0.7;">
                    FPS: --</div>
            </aside>

            <!-- Mobile Dock (Bottom Navigation) -->
            <nav id="mobile-dock" class="mobile-dock">
                <!-- INJECTED BY Templates.js -->
            </nav>

            <!-- Footer: Timeline / scrubber could go here later -->
            <footer class="gallery-footer">
                <div class="interaction-hint">
                    LEFT CLICK: ROTATE // RIGHT CLICK: PAN // SCROLL: ZOOM
                </div>
            </footer>
        </div>
        
        <!-- MOVED: About Modal (Root Level for correct Z-Index) -->
        <div id="about-modal" class="modal-overlay hidden">
            <!-- INJECTED BY Templates.js -->
        </div>

        <!-- ABOUT MODAL BACKDROP -->
        <div id="about-modal-backdrop" class="modal-backdrop hidden">
            <div class="modal-content">
                <button id="btn-close-about" class="modal-close-btn">&times;</button>
                <h2>VISUALIZING INTELLIGENCE</h2>
                <div class="modal-body">
                    <p><strong>Prismata</strong> visualizes the hidden topology of Neural Networks using <span
                            style="color:var(--color-primary)">Principal Component Analysis (PCA)</span>.</p>

                    <div class="legend-grid">
                        <div class="legend-item">
                            <span class="legend-icon" style="background:var(--color-primary)"></span>
                            <div>
                                <strong>POINTS</strong>
                                <p>Neurons/Cortex processing features. (Cyan = Processing)</p>
                            </div>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon gradient-vertical"></span>
                            <div>
                                <strong>VERTICAL AXIS</strong>
                                <p>Network Depth. Input (Bottom/Orange) &rarr; Output (Top/Red).</p>
                            </div>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon" style="background:#ff0055"></span>
                            <div>
                                <strong>STRUCTURE</strong>
                                <p>Helices (LLMs) or Pyramids (CNNs) represent the Autonomy Flow.</p>
                            </div>
                        </div>
                    </div>

                    <small style="opacity:0.6; display:block; margin-top:20px;">
                        * "Mock" weights used for theoretical architecture visualization of restricted models (e.g.
                        DeepSeek).
                    </small>
                </div>
            </div>
        </div>

        <div id="timeline-overlay" class="timeline-overlay hidden">
            <div class="timeline-controls-top">
                <button id="btn-toggle-audio" class="close-timeline-btn" style="padding: 8px 15px; margin-right: 10px;"
                    title="Enable Neural Sonification: Listen to the unique audio signature of each model">ðŸ”‡</button>
                <button id="btn-auto-tour" class="close-timeline-btn" style="color: #00f3ff; border-color: #00f3ff;">â–¶
                    AUTO-TOUR</button>
                <button id="btn-close-timeline" class="close-timeline-btn">EXIT TIMELINE</button>
            </div>

            <div class="timeline-active-info">
                <h2 id="timeline-year">2024</h2>
                <h1 id="timeline-title">GEMMA 2</h1>
                <p id="timeline-desc">Google's open model. Highly efficient knowledge compression.</p>
            </div>

            <div class="timeline-track-container">
                <button id="btn-prev-model" class="nav-arrow left">&lt;</button>
                <div id="timeline-track" class="timeline-track">
                    <!-- Populated JS: Nodes go here -->
                </div>
                <button id="btn-next-model" class="nav-arrow right">&gt;</button>
            </div>
        </div>
    </div>
    </div>
    <!-- Scripts -->
    <script type="module" src="./src/main.js"></script>
    <script type="module" src="./src/ui.js"></script>
</body>

</html>